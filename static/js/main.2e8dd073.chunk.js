(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{41:function(e,t,c){},42:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c.n(n),s=c(20),i=c.n(s),r=c(9),o=c(3),j=c(5),u=c(27),l=c(12),d=[{id:1,name:"Cherry Pie",price:11,amount:1,img:"./images/cherry.jpeg"},{id:2,name:"Apple Pie",price:15,amount:1,img:"./images/apple.jpeg"},{id:3,name:"Pumpkin Pie",price:18,amount:1,img:"./images/pumpkin.jpeg"},{id:4,name:"Nut Pie",price:10,amount:1,img:"./images/nut.jpeg"},{id:5,name:"Lime Pie",price:13,amount:1,img:"./images/lime.jpeg"},{id:6,name:"Banana Pie",price:6,amount:1,img:"./images/banana.jpeg"},{id:7,name:"Raspberry Pie",price:20,amount:1,img:"./images/raspberry.jpeg"},{id:8,name:"Kiwi Pie",price:5,amount:1,img:"./images/kiwi.jpeg"}],b=c(1),h=a.a.createContext(),m=function(e){var t=e.children,c=Object(n.useState)(d),a=Object(l.a)(c,2),s=a[0],i=a[1],r=Object(n.useState)([]),o=Object(l.a)(r,2),m=o[0],p=o[1],O=Object(n.useState)(0),x=Object(l.a)(O,2),g=x[0],f=x[1],v=Object(n.useState)(0),N=Object(l.a)(v,2),k=N[0],C=N[1],y=Object(n.useState)(!1),w=Object(l.a)(y,2),P=w[0],A=w[1];Object(n.useEffect)((function(){m.reduce((function(e,t){return e.amount+=t.amount,e.total+=t.amount*t.price,f(e.amount),C(e.total),e}),{total:0,amount:0})}),[m]);var _=function(e){e.innerText="Added!",e.classList.add("green"),setTimeout((function(){e.innerText="Add to cart",e.classList.remove("green")}),2500)},S=function(){i(d)};return Object(b.jsx)(h.Provider,{value:{products:s,cart:m,addToCart:function(e,t){var c=m.find((function(t){return t.id===e.id}));p(c?m.map((function(t){if(t.id===e.id){var c=t.amount+e.amount;return Object(j.a)(Object(j.a)({},t),{},{amount:c})}return t})):[].concat(Object(u.a)(m),[e])),_(t),S()},removeFromCart:function(e){var t=m.filter((function(t){return t.id!==e}));p(t)},toggleAmount:function(e,t){A(!1),i(s.map((function(c){if(c.id===e){if("increase"===t){var n=c.amount+1;return Object(j.a)(Object(j.a)({},c),{},{amount:n})}if("decrease"===t){var a=c.amount-1;return a<=1?Object(j.a)(Object(j.a)({},c),{},{amount:1}):Object(j.a)(Object(j.a)({},c),{},{amount:a})}}return c})))},toggleAmountCart:function(e,t){p(m.map((function(c){if(c.id===e){if("increase"===t){var n=c.amount+1;return Object(j.a)(Object(j.a)({},c),{},{amount:n})}if("decrease"===t){var a=c.amount-1;return a<=1?Object(j.a)(Object(j.a)({},c),{},{amount:1}):Object(j.a)(Object(j.a)({},c),{},{amount:a})}}return c})))},checkout:P,openCheckout:function(){A(!0)},closeCheckout:function(){A(!1)},cartAmount:g,cartTotal:k},children:t})},p=function(){return Object(n.useContext)(h)},O=c(24),x=c(25),g=c(18),f=c(21),v=c(11),N=function(){var e=p(),t=e.cart,c=e.closeCheckout,n=e.removeFromCart,a=e.cartAmount,s=e.cartTotal,i=e.checkout,r=e.toggleAmountCart;return 0===t.length?Object(b.jsxs)("div",{className:"".concat(i?"checkout-container show-checkout":"checkout-container"),children:[Object(b.jsxs)("div",{className:"checkout-header",children:[Object(b.jsx)("h3",{children:"Cart"}),Object(b.jsx)("button",{type:"button",onClick:c,children:Object(b.jsx)(g.a,{})})]}),Object(b.jsx)("h1",{children:"Your cart is empty!"})]}):Object(b.jsxs)("div",{className:"".concat(i?"checkout-container show-checkout":"checkout-container"),children:[Object(b.jsxs)("div",{className:"checkout-header",children:[Object(b.jsx)("h3",{children:"CHECKOUT"}),Object(b.jsx)("button",{type:"button",onClick:c,children:Object(b.jsx)(g.a,{})})]}),Object(b.jsx)("div",{className:"checkout-product-list",children:t.map((function(e){var t=e.id,c=e.name,a=e.price,s=e.amount,i=e.img;return Object(b.jsxs)("div",{className:"checkout-product",children:[Object(b.jsxs)("div",{className:"checkout-left",children:[Object(b.jsxs)("div",{className:"product-quantity",children:[Object(b.jsx)("button",{type:"submit",onClick:function(){return r(t,"increase")},children:Object(b.jsx)(v.b,{})}),Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{className:"yellow",children:" x"}),s]}),Object(b.jsx)("button",{type:"submit",onClick:function(){return r(t,"decrease")},children:Object(b.jsx)(v.a,{})})]}),Object(b.jsx)("div",{className:"img-checkout",children:Object(b.jsx)("img",{src:i,alt:c})}),Object(b.jsxs)("p",{children:[c," (",Object(b.jsxs)("span",{className:"blue",children:["$",a]}),")"," "]})]}),Object(b.jsx)("button",{type:"submit",onClick:function(){return n(t)},children:Object(b.jsx)(f.a,{})})]},t)}))}),Object(b.jsxs)("h4",{children:["Subtotal:",Object(b.jsxs)("span",{className:"blue",children:[" $",s]})]}),Object(b.jsxs)("h5",{children:["(",a," items)"]}),Object(b.jsx)("button",{className:"btn checkout-button",children:"Proceed to Checout"})]})},k=function(){var e=p(),t=e.openCheckout,c=e.cartAmount,n=e.closeCheckout;return Object(b.jsxs)("div",{className:"container-center header-container",children:[Object(b.jsx)("h1",{className:"logo",children:Object(b.jsxs)(r.b,{to:"/shopping-cart",children:["Happy Pie ",Object(b.jsx)(O.a,{className:"logo-icon"})]})}),Object(b.jsxs)("div",{className:"navigation",children:[Object(b.jsx)("nav",{children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(r.b,{to:"/shopping-cart",className:"nav-link",onClick:n,children:"home"})}),Object(b.jsx)("li",{children:Object(b.jsx)(r.b,{to:"/shopping-cart/shop",className:"nav-link",onClick:n,children:"shop"})})]})}),Object(b.jsx)("div",{className:"shopping-cart",children:Object(b.jsxs)("button",{type:"button",className:"cart-button btn",onClick:t,children:[Object(b.jsx)(x.a,{className:"cart-icon"})," (",c,")"]})})]}),Object(b.jsx)(N,{})]})},C=c(26),y=function(){return Object(b.jsxs)("section",{className:"container-center home-container",children:[Object(b.jsx)("h2",{children:"Our Winter selection is here!"}),Object(b.jsx)("img",{src:"https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/delish-holiday-pie-board-1637082047.jpg?crop=0.820xw:0.804xh;0.105xw,0.0891xh&resize=980:*",alt:"winter pies"}),Object(b.jsxs)(r.b,{to:"/shopping-cart/shop",className:"btn shop-btn",children:["Shop Now ",Object(b.jsx)(C.a,{className:"shop-btn-icon"})]})]})},w=function(e){var t=e.product,c=t.id,n=t.name,a=t.price,s=t.amount,i=t.img,r=p(),o=r.toggleAmount,j=r.addToCart;return Object(b.jsx)("article",{className:"product-card",children:Object(b.jsxs)("div",{className:"images-container",children:[Object(b.jsx)("img",{src:i,alt:"pie"}),Object(b.jsxs)("div",{className:"product-card__infos",children:[Object(b.jsxs)("div",{className:"product-card__infos-header",children:[Object(b.jsx)("h4",{className:"product-card__infos-name",children:n}),Object(b.jsxs)("div",{className:"product-quantity",children:[Object(b.jsx)("button",{type:"submit",onClick:function(){return o(c,"decrease")},children:Object(b.jsx)(v.a,{})}),Object(b.jsx)("p",{children:s}),Object(b.jsx)("button",{type:"submit",onClick:function(){return o(c,"increase")},children:Object(b.jsx)(v.b,{})})]})]}),Object(b.jsxs)("div",{className:"product-cart__infos-footer",children:[Object(b.jsxs)("p",{className:"product-card__infos-price",children:[Object(b.jsx)("span",{className:"dollar",children:"$"}),a]}),Object(b.jsx)("button",{className:"btn",onClick:function(e){return j(t,e.target)},children:"Add to cart"})]})]})]})})},P=function(){var e=p().products;return Object(b.jsxs)("section",{className:"shop-container",children:[Object(b.jsx)("h2",{children:"Our delicious pies!"}),Object(b.jsx)("div",{className:"product-container",children:e.map((function(e){return Object(b.jsx)(w,{product:e},e.id)}))}),Object(b.jsx)(N,{})]})},A=function(){return Object(b.jsx)("div",{className:"shopping-container container-center",children:Object(b.jsx)(P,{})})};var _=function(){return Object(b.jsxs)(r.a,{children:[Object(b.jsx)(k,{}),Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{exact:!0,path:"/shopping-cart",children:Object(b.jsx)(y,{})}),Object(b.jsx)(o.a,{exact:!0,path:"/shopping-cart/shop",children:Object(b.jsx)(A,{})})]})]})};c(41);i.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(m,{children:Object(b.jsx)(_,{})})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.2e8dd073.chunk.js.map